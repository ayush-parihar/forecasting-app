{% load static %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Time-Series Forecaster</title>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
      body { font-family: sans-serif; max-width: 900px; margin: 2rem auto; }
      #charts > div { margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>ðŸ“ˆ Django Prophet Forecast Demo</h1>
  <label>
    Forecast horizon (days):
    <input type="number" id="horizon" value="30" min="1" />
  </label>
  <button onclick="run()">Predict</button>
 
  <div id="charts">
    <div id="hist"></div>
    <div id="fc"></div>
  </div>
 
<script>
async function run() {
  const horizon = document.getElementById("horizon").value;
  const resp = await fetch(`/predict/?horizon=` + horizon);
  const data = await resp.json();
  document.getElementById("hist").innerHTML = data.hist_chart;
  document.getElementById("fc").innerHTML   = data.fc_chart;
}
</script>
</body>
</html>